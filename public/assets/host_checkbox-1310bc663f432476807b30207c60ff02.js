function hostChecked(e){var t=parseInt(e.id.replace("host_ids_",""));return e.checked?addHostId(t):rmHostId(t),$.cookie("_ForemanSelectedHosts",JSON.stringify($.foremanSelectedHosts)),toggle_actions(),update_counter($("span.select_count")),!1}function addHostId(e){-1==jQuery.inArray(e,$.foremanSelectedHosts)&&$.foremanSelectedHosts.push(e)}function rmHostId(e){var t=jQuery.inArray(e,$.foremanSelectedHosts);t>=0&&$.foremanSelectedHosts.splice(t,1)}function readFromCookie(){try{return(r=$.cookie("_ForemanSelectedHosts"))?$.parseJSON(r):[]}catch(e){return removeForemanHostsCookie(),[]}}function toggle_actions(){var e=$("#submit_multiple a");0==$.foremanSelectedHosts.length?(e.addClass("disabled hide"),e.attr("disabled","disabled")):(e.removeClass("disabled hide"),e.removeAttr("disabled"))}function removeForemanHostsCookie(){$.cookie("_ForemanSelectedHosts",null)}function resetSelection(){removeForemanHostsCookie(),$.foremanSelectedHosts=[]}function cleanHostsSelection(){return $(".host_select_boxes").each(function(e,t){t.checked=!1,hostChecked(t)}),resetSelection(),toggle_actions(),update_counter($("span.select_count")),!1}function toggleCheck(){var e=$("#check_all").is(":checked");return $(".host_select_boxes").each(function(t,n){n.checked=e,hostChecked(n)}),e||cleanHostsSelection(),!1}function toggle_multiple_ok_button(e){var t=$("#confirmation-modal .btn-primary");"disabled"!=e.value?t.removeClass("disabled").attr("disabled",!1):t.addClass("disabled").attr("disabled",!0)}function update_counter(e){return $.foremanSelectedHosts&&(e.text($.foremanSelectedHosts.length),$("#check_all").attr("checked",$.foremanSelectedHosts.length>0)),$("#check_all").attr("checked")?$("#check_all").attr("title",$.foremanSelectedHosts.length+" - items selected.\nUncheck to Clear Selection"):$("#check_all").attr("title","Select all items in this page"),!1}$.foremanSelectedHosts=readFromCookie(),$(function(){for(var e=0;$.foremanSelectedHosts.length>e;e++){var t="host_ids_"+$.foremanSelectedHosts[e];(boxes=$("#"+t))&&boxes[0]&&(boxes[0].checked=!0)}return toggle_actions(),update_counter($("span.select_count")),!1}),$(function(){$("#submit_multiple a").click(function(){if(0==$.foremanSelectedHosts.length)return!1;var e=$(this).attr("data-original-title")+" - The following hosts are about to be changed",t=$(this).attr("href")+"?"+$.param({host_ids:$.foremanSelectedHosts});return $("#confirmation-modal .modal-header h3").text(e),$("#confirmation-modal .modal-body").empty().append("<img class='modal-loading' src='/assets/spinner.gif'>"),$("#confirmation-modal").modal({show:"true",backdrop:"static"}),$("#confirmation-modal .modal-body").load(t+" #content",function(e){$("#loading").hide(),$("#submit_multiple").val("");var t=$("#confirmation-modal .btn-primary");$(e).find("#content form select").size()>0?t.addClass("disabled").attr("disabled",!0):t.removeClass("disabled").attr("disabled",!1)}),!1}),$("#confirmation-modal .btn-primary").click(function(){$("#confirmation-modal form").submit(),$("#confirmation-modal").modal("hide")}),$("#confirmation-modal .secondary").click(function(){$("#confirmation-modal").modal("hide")})});